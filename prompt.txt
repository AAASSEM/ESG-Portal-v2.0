# Developer Admin Panel - System Control & Configuration

## Executive Summary
Create a **developer-focused admin panel** for you to control the ESG Portal application's features, configurations, and system behavior in real-time without code deployments. This is your control center to toggle features, manage system settings, monitor logs, and troubleshoot issues.

## 1. Feature Flag Management

### Toggle System Features
- **Module Controls**:
  - âœ…/âŒ Enable/Disable entire modules (Dashboard, Data Collection, Meters, etc.)
  - âœ…/âŒ Authentication methods (Magic Link, Password, Email Verification)
  - âœ…/âŒ User registration (open/closed/invite-only)
  - âœ…/âŒ Framework auto-assignment
  - âœ…/âŒ Email notifications (globally or by type)
  - âœ…/âŒ File uploads
  - âœ…/âŒ Data export functionality
  - âœ…/âŒ API access

- **Beta Features**:
  - âœ…/âŒ New framework types
  - âœ…/âŒ Experimental data collection methods
  - âœ…/âŒ Advanced analytics
  - âœ…/âŒ AI-powered suggestions

### Environment Controls
- Switch between development/staging/production behaviors
- Toggle debug mode
- Enable/disable verbose logging
- Maintenance mode with custom message

## 2. System Configuration Dashboard

### Real-Time Settings
- **Email Configuration**:
  - Switch between SendGrid/SMTP/Console backend
  - Test email delivery
  - View email queue status
  - Toggle email types (verification, password reset, invitations)

- **Database Controls**:
  - View connection status
  - Query performance stats
  - Cache status and clear cache
  - Database backup trigger

- **API Settings**:
  - Rate limiting controls (requests per minute/hour)
  - API key management
  - CORS configuration
  - Webhook endpoints

### Performance Tuning
- Cache TTL adjustments
- Query timeout settings
- File upload size limits
- Session timeout duration
- Pagination limits

## 3. Application Monitoring

### Live System Stats
- **Health Indicators**:
  - Server uptime
  - Memory usage
  - CPU utilization
  - Active database connections
  - Response time averages
  - Error rate (last hour/day)

- **Request Monitoring**:
  - Active requests counter
  - Slowest endpoints
  - Most called endpoints
  - Failed requests log
  - API usage by endpoint

### Resource Usage
- Storage space used/available
- Media files count and size
- Database size
- Cache hit/miss ratios
- Background job queue length

## 4. Log Viewer & Debugger

### Centralized Logging
- **Log Levels**:
  - Filter by: DEBUG, INFO, WARNING, ERROR, CRITICAL
  - Search logs by keyword, user, company, timestamp
  - Tail logs in real-time
  - Download logs as files

- **Error Tracking**:
  - Recent exceptions with stack traces
  - Grouped errors by type
  - Error frequency charts
  - Quick jump to problematic code

### Request Inspector
- View recent HTTP requests
- Request/response body inspection
- Headers and cookies viewer
- Timing breakdown
- User session details

## 5. Database Management

### Data Operations
- **Quick Actions**:
  - Run Django management commands via UI
  - Execute safe SQL queries (read-only option)
  - View table schemas
  - Check indexes and performance
  - Database migrations status

- **Data Cleanup**:
  - Delete orphaned records
  - Clear expired sessions
  - Remove old verification codes
  - Archive old data
  - Vacuum and optimize

### Backup & Restore
- Trigger manual backups
- View backup history
- Restore from backup (with confirmation)
- Export specific tables
- Import test data

## 6. User & Permission Testing

### Quick User Actions
- **Test Accounts**:
  - Create test users with any role
  - Generate magic links for any user
  - Reset any user's password
  - Bypass email verification
  - Impersonate any user (with exit button)

- **Permission Tester**:
  - Check what any user can access
  - Test permission inheritance
  - View effective permissions
  - Simulate role-based access

## 7. Framework & Data Management

### Content Controls
- **Quick Bulk Actions**:
  - Import frameworks from Excel
  - Export all frameworks
  - Populate initial data (activities, frameworks, elements)
  - Reset demo company data
  - Clone framework configurations

- **Data Generation**:
  - Generate test data for development
  - Create dummy companies with full data
  - Populate sample meter readings
  - Generate realistic task completion data

## 8. Email Testing & Preview

### Email Debugger
- **Template Management**:
  - Preview all email templates
  - Send test emails to your address
  - View recently sent emails
  - Check email delivery status
  - Review SendGrid statistics

- **Email Queue**:
  - View pending emails
  - Retry failed emails
  - Cancel queued emails
  - Clear email queue

## 9. Security & Access Control

### Security Dashboard
- **Active Sessions**:
  - View all active user sessions
  - Force logout specific users
  - Clear all sessions
  - View session details (IP, device, location)

- **Access Logs**:
  - Failed login attempts
  - Suspicious activity detection
  - API key usage tracking
  - Admin action audit trail

### Emergency Controls
- **Kill Switches**:
  - ğŸš¨ Disable all logins
  - ğŸš¨ Read-only mode (disable writes)
  - ğŸš¨ Emergency maintenance mode
  - ğŸš¨ Disable all email sending
  - ğŸš¨ Block specific IP addresses

## 10. Integration Management

### External Services
- **Service Status**:
  - SendGrid connection test
  - SimpleLogin status
  - Third-party API health checks
  - Webhook delivery logs

- **API Key Management**:
  - View/regenerate API keys
  - Test API endpoints
  - View API documentation
  - Rate limit overrides

## 11. Development Tools

### Quick Actions
- **Code Helpers**:
  - Generate Django models from schema
  - Create migration files
  - Run tests and view results
  - Static files collection
  - Clear all caches (Django, browser, Redis)

- **Data Seeding**:
  - One-click demo data population
  - Reset database to clean state
  - Load specific fixtures
  - Create test scenarios

### Environment Info
- Django version
- Python version
- Installed packages list
- Environment variables viewer
- Configuration file inspector

## 12. Notifications & Alerts

### System Alerts
- **Alert Types**:
  - High error rate warnings
  - Low disk space alerts
  - Failed backup notifications
  - Security breach attempts
  - Performance degradation alerts

- **Custom Alerts**:
  - Set custom thresholds
  - Email/SMS notifications
  - Slack/Discord webhooks
  - Alert history and acknowledgment

## 13. UI Design

### Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ ESG Portal - Developer Control Panel   â”‚
â”‚  [Env: Production â–¼] [Maintenance Mode: OFF]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚  ğŸ“Š SYSTEM HEALTH                â”‚
â”‚ ğŸšï¸ Flags â”‚  â— API: Online  âš¡ 45ms avg     â”‚
â”‚ âš™ï¸ Configâ”‚  â— DB: Healthy  ğŸ’¾ 234/500GB     â”‚
â”‚ ğŸ“Š Stats â”‚  â— Cache: Active ğŸ”¥ 85% hit      â”‚
â”‚ ğŸ“ Logs  â”‚                                  â”‚
â”‚ ğŸ’¾ DB    â”‚  ğŸšï¸ FEATURE FLAGS               â”‚
â”‚ ğŸ‘¤ Users â”‚  [ ON] User Registration         â”‚
â”‚ ğŸ—ï¸ Data  â”‚  [OFF] Beta Analytics Module     â”‚
â”‚ ğŸ“§ Email â”‚  [ ON] Email Notifications       â”‚
â”‚ ğŸ” Sec   â”‚  [ ON] Magic Link Auth           â”‚
â”‚ ğŸ”— APIs  â”‚  [OFF] Maintenance Mode          â”‚
â”‚ ğŸ› ï¸ Tools â”‚                                  â”‚
â”‚          â”‚  ğŸ“ RECENT ERRORS (3)            â”‚
â”‚ ğŸš¨ KILL  â”‚  âš ï¸ ValueError in meter_service  â”‚
â”‚  SWITCH  â”‚  [View Details] [Fix]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Color Coding
- ğŸŸ¢ Green: Active/Healthy/ON
- ğŸ”´ Red: Inactive/Error/OFF
- ğŸŸ¡ Yellow: Warning/Degraded
- ğŸ”µ Blue: Info/Neutral
- âš« Gray: Disabled/Not Configured

## 14. Quick Implementation Prompt

**"Create a developer admin control panel for my Django ESG Portal application. I need to control the app without deploying code changes.**

**Must Have Features:**

1. **Feature Flags Dashboard**
   - Toggle switches for: user registration, email notifications, magic link auth, framework auto-assignment, file uploads, maintenance mode
   - Environment selector (dev/staging/prod)
   - Changes take effect immediately

2. **System Monitor**
   - Live stats: API status, response times, error count, database health, cache status
   - Memory and CPU usage
   - Active users count
   - Request logs (last 100 requests)

3. **Log Viewer**
   - Filter by level (DEBUG/INFO/ERROR)
   - Search logs
   - Real-time tail
   - Download logs

4. **Database Tools**
   - Run management commands (populate_initial_data, import_comprehensive_esg_framework)
   - View recent queries
   - Clear cache button
   - Database backup trigger

5. **User Management**
   - Quick create test users
   - Generate magic links
   - Impersonate any user
   - Force logout users
   - View active sessions

6. **Email Debugger**
   - Send test emails
   - View email queue
   - Preview templates
   - Toggle email backend (SendGrid/Console)

7. **Emergency Controls**
   - ğŸš¨ Red panic buttons for:
     - Disable all logins
     - Enable maintenance mode
     - Read-only mode
     - Stop all emails

8. **Configuration Editor**
   - Edit settings: rate limits, session timeout, file size limits, cache TTL
   - API key management
   - CORS settings

**Technical Implementation:**
- React frontend with Tailwind CSS
- Dark theme with red/green toggle switches
- Real-time updates (poll every 5 seconds)
- Django REST API endpoints with `@require_superuser` decorator
- Store feature flags in database (FeatureFlag model)
- Use Redis for caching flag states
- WebSocket for live log streaming (optional)

**Security:**
- Only accessible by superuser accounts
- Separate auth from main portal
- Log all admin actions
- Confirmation dialogs for destructive actions

**UI Requirements:**
- Sidebar navigation
- Dashboard with key metrics at top
- Large toggle switches (easy to click)
- Status indicators (green/red dots)
- Responsive but optimized for desktop
- Search functionality throughout

Make it production-ready with proper error handling and make it look professional but functional - I need to use this daily for controlling my app."**

---

This is what you actually need - a developer control center to manage your application's behavior, monitor its health, and troubleshoot issues without touching code or redeploying. Want me to build the React component for this?