 Update settings.py - Set Sessions to Last Very Long
Add this session configuration to your settings.py:
python# Session Configuration - Add after DATABASE configuration
SESSION_ENGINE = 'django.contrib.sessions.backends.db'  # Store in database
SESSION_SAVE_EVERY_REQUEST = True  # Keep session alive with activity
SESSION_COOKIE_NAME = 'sessionid'
SESSION_COOKIE_HTTPONLY = True
SESSION_COOKIE_SAMESITE = 'Lax'

# Different settings for production vs development
if not DEBUG:
    # Production settings - VERY LONG SESSION
    SESSION_COOKIE_SECURE = True  # HTTPS only
    SESSION_COOKIE_AGE = 31536000  # 1 YEAR (365 days) - nearly "forever"
    SESSION_EXPIRE_AT_BROWSER_CLOSE = False  # Keep session even after browser closes
    SESSION_COOKIE_DOMAIN = None  # Auto-detect
else:
    # Development settings
    SESSION_COOKIE_SECURE = False
    SESSION_COOKIE_AGE = 31536000  # 1 year
    SESSION_EXPIRE_AT_BROWSER_CLOSE = False
3. Update Login View - Set Session Expiry
In your auth_views.py, find the login(request, user) line and update it:
pythonlogin(request, user)
request.session.save()  # Explicitly save session
request.session.set_expiry(31536000)  # 1 year in seconds (365 days)
The complete section should look like:
pythonlogin(request, user)
request.session.save()  # Explicitly save session  
request.session.set_expiry(31536000)  # 1 year (nearly forever)

# Get user role and check password reset requirement
try:
    user_profile = user.userprofile
    user_role = user_profile.role
    must_reset_password = user_profile.must_reset_password
4. Also Update MagicLinkAuthView
In your MagicLinkAuthView.get() method, after login(request, user) line (around line 735):
pythonlogin(request, user)
request.session.save()  # Explicitly save session
request.session.set_expiry(31536000)  # 1 year
print(f"âœ… User logged in via magic link: {user.email}")
5. Update EmailCodeVerificationView
After the login(request, user) line (around line 550):
pythonlogin(request, user)
request.session.save()  # Explicitly save session
request.session.set_expiry(31536000)  # 1 year